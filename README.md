### Фикс «Not enough IDs / lua_pcall_failed» для S.T.A.L.K.E.R. Global War

Этот фикс снижает лавинообразный спавн, вводит защиту от переполнения ALife‑ID и убирает циклические ошибки `lua_pcall_failed`, `Not enough IDs`, `Requesting ID has already been used`, дубли в Object Registry. Приоритеты точек оставлены включёнными по просьбе игрока.

### Что именно изменено и зачем

1) `gamedata/configs/axr_options.ltx`
- `enable_priorities = true`
  - Приоритеты точек сохранены включёнными (геймплей). Ранее временно отключались для диагностики.
- `enable_spawn_mutants = false`
  - Глобально отключён спавн мутантов по просьбе игрока, чтобы разгрузить симуляцию.
- `mutants_squad_count = 6` (было 20)
  - Сильное снижение количества мутантских отрядов при генерации (дополнительная страховка, даже если спавн мутантов будет включён).
- `speed_spawn = 20` (было 80)
  - Меньше «брызгового» появления объектов за короткое время.
- `enable_events_with_azazel_mode = false`
  - Исключаем дополнительные эвенты, которые могут инициировать спавны.
- Добавлены защёлки против переполнения ID:
  - `enable_bound_spawn_squads = true`
  - `bound_spawn_squads_value = 1000`
  - Если свободных ALife‑ID остаётся меньше порога, новые отряды не создаются (см. логику ниже).

2) `gamedata/configs/alife.ltx`
- `objects_per_update = 10` (было 20)
- `process_time = 600` (было 900)
  - Снижение нагрузки на тик ALife и распределение работ по времени.

3) `gamedata/scripts/sim_brain.script`
- Добавлен верхний лимит на чтение параметра `mutants_squad_count` и варианта «на уровень»: теперь максимум 12.
  - Предохраняет от ошибочных/чрезмерных значений в конфиге.

4) `gamedata/scripts/sim_smart.script`
- Аналогичный верхний лимит на `mutants_squad_count` (не более 12).
- Если встретится «жёсткое» значение 20 — принудительно урезается до 12.

5) `gamedata/scripts/sim_board.script`
- Перед созданием любого отряда добавлена глобальная проверка остатка свободных ALife‑ID:
  - при `enable_bound_spawn_squads = true` и `alife():get_available_count() < bound_spawn_squads_value` — спавн отряда пропускается.
  - Это «аварийный клапан», предотвращающий повторное переполнение пула ID и циклы ошибок.

---

### Как применять и запускать
1) После обновления файлов очистить кэш:
   - удалить содержимое: `appdata/shaders_cache_oxr/r3`, `appdata/shaders_cache_oxr/r4`
   - удалить содержимое: `appdata/cdb_cache/*`
2) Запускать игру и загружать сохранение ДО начала спама ошибок. Повреждённые сейвы с переполненными ID часто не восстанавливаются.
3) Дать симуляции «остыть»: 2–3 игровых часа без длительного скипа времени и массовых боёв.

---

### Рекомендации
- Приоритеты точек оставьте включёнными, но не поднимайте все точки до максимального значения единовременно на нескольких локациях.
- Если захочется вернуть мутантов: в `axr_options.ltx` сменить `enable_spawn_mutants = true` и/или увеличить `mutants_squad_count` (рекомендация: не выше 8–10). Лимиты в скриптах всё равно защитят от экстремальных значений.
- Избегайте длительного «скипа времени» в момент, когда активно идёт захват множества точек — это самый частый триггер лавинообразного спавна.

---

### Что именно исправляется
- Ошибки движка: `Not enough IDs`, `Requesting ID has already been used`, дубли в `Object Registry` и последующий `lua_pcall_failed`.
- Причина: чрезмерный параллельный спавн отрядов/мутантов → быстрый расход пула ALife‑ID → дубли и циклические падения.
- Решение: замедлить и ограничить спавн, добавить защитные пороги и верхние лимиты, отключить спавн мутантов (по желанию) и оставить приоритеты точек.

---

### Откат изменений
- Все правки локальны и обратимы. Достаточно вернуть значения в тех же ключах/файлах:
  - `axr_options.ltx`: вернуть прежние числа и флаги.
  - удалить добавленные строки `enable_bound_spawn_squads` и `bound_spawn_squads_value`, если защита не нужна.
  - В скриптах можно убрать вставленные проверки/лимиты (поиск по коммиту или ключевым словам выше).


